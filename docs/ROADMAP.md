# SummitMate é–‹ç™¼è·¯ç·šåœ– (Development Roadmap)

## é–‹ç™¼åŸå‰‡

**TDD (Test-Driven Development)** ç‚ºæ ¸å¿ƒé–‹ç™¼ç­–ç•¥ï¼š
1. **Red**: å…ˆæ’°å¯«å¤±æ•—çš„æ¸¬è©¦
2. **Green**: æ’°å¯«æœ€å°‘é‡ç¨‹å¼ç¢¼ä½¿æ¸¬è©¦é€šé
3. **Refactor**: é‡æ§‹ç¨‹å¼ç¢¼ï¼Œä¿æŒæ¸¬è©¦é€šé

---

## Phase 0-5: æ ¸å¿ƒåŠŸèƒ½èˆ‡åŸºç¤å»ºè¨­ âœ… (å·²å®Œæˆ)

åŒ…å«å°ˆæ¡ˆåˆå§‹åŒ–ã€Hive è³‡æ–™å±¤ã€MVVM æ¶æ§‹ã€UI å¯¦ä½œã€å–®å…ƒæ¸¬è©¦ (36 Tests)ã€‚

---

## Phase 6: ç™¼å¸ƒæº–å‚™ âœ…

### ç›®æ¨™
æº–å‚™ App Store / Google Play ç™¼å¸ƒè³‡æºã€‚

### ä»»å‹™
- [x] App Icon è¨­è¨ˆèˆ‡ç”Ÿæˆ
- [x] Splash Screen å“ç‰ŒåŒ– (Native Splash)
- [x] Web Favicon èˆ‡ Icons ç”Ÿæˆ

---

## Phase 8: è¡Œç¨‹ç·¨è¼¯åŠŸèƒ½ (Itinerary Editing) âœ…

### ç›®æ¨™
è®“ä½¿ç”¨è€…èƒ½åœ¨ App å…§è‡ªç”±æ–°å¢ã€ä¿®æ”¹ã€åˆªé™¤è¡Œç¨‹ç¯€é»ã€‚

### ä»»å‹™
- [x] `ItineraryEditScreen` å¯¦ä½œ
- [x] CRUD é‚è¼¯ (Repository Layer)
- [x] æ‹–æ›³æ’åº (ReorderableListView)
- [x] æ™‚é–“è‡ªå‹•è¨ˆç®— (Estimated Time Logic)

---

## Phase 11: è¡Œç¨‹é›²ç«¯åŒæ­¥ (Cloud Sync) âœ…

### ç›®æ¨™
å°‡æœ¬åœ°ä¿®æ”¹å¾Œçš„è¡Œç¨‹ä¸Šå‚³è‡³ Google Sheetsï¼Œå¯¦ç¾é›™å‘è³‡æ–™æµã€‚

### ä»»å‹™
- [x] è¡Œç¨‹ä¸Šå‚³ API (`updateItinerary`)
- [x] è¡çªæª¢æ¸¬æ©Ÿåˆ¶ (æœ¬åœ° vs é›²ç«¯)
- [x] ä¸Šå‚³ç¢ºèª UI (Alert Dialog)
- [x] é›²ç«¯å‚™ä»½è¦†å¯«é‚è¼¯

---

## Phase 12-13: è³‡æ–™æ¨™æº–åŒ–èˆ‡æ•ˆèƒ½å„ªåŒ– âœ…

### ç›®æ¨™
è§£æ±ºæ™‚å€å•é¡Œèˆ‡æå‡åŒæ­¥é€Ÿåº¦ã€‚

### ä»»å‹™
- [x] æ™‚é–“æ ¼å¼çµ±ä¸€ (String-First Strategy, UTC ISO8601)
- [x] æ‰¹æ¬¡ä¸Šå‚³ API (`batchAddMessages`) è§£æ±º  N+1 å•é¡Œ
- [x] `SyncService` æ•ˆèƒ½èª¿å„ª

---

## Phase 15: Web & PWA æ”¯æ´ âœ…

### ç›®æ¨™
å•Ÿç”¨ Web ç‰ˆè¼¸å‡ºï¼Œæ”¯æ´ iOS PWA å®‰è£ï¼Œå°‡ App å»¶ä¼¸è‡³é›»è…¦ç«¯ã€‚

### ä»»å‹™
- [x] Web ç›¸å®¹æ€§ä¿®æ­£ (Hive, dart:io æ›¿ä»£æ–¹æ¡ˆ)
- [x] API CORS è§£æ±ºæ–¹æ¡ˆ (text/plain POST)
- [x] PWA Manifest é…ç½® (Standalone, Theme Color)
- [x] iOS Meta Tags å„ªåŒ– (Add to Home Screen)
- [x] éŸ¿æ‡‰å¼ UI Wrapper (Max-width 600px for Desktop)

---

## Phase 16: é€²éšåŠŸèƒ½ (Future Plans) ğŸš€

### ç›®æ¨™
å¢å¼·æˆ¶å¤–å¯¦ç”¨æ€§èˆ‡ç¤¾ç¾¤åŠŸèƒ½ã€‚

### è¦åŠƒä»»å‹™
- [ ] **é›¢ç·šåœ°åœ–**: æ•´åˆ Leaflet/Mapbox é¡¯ç¤º GPX è»Œè·¡èˆ‡ç­‰é«˜ç·šã€‚
- [ ] **ç…§ç‰‡ä¸Šå‚³**: å…è¨±åœ¨ç•™è¨€æˆ–è¡Œç¨‹ä¸­é™„åŠ ç…§ç‰‡ (ä¸Šå‚³è‡³ Imgur æˆ– Google Drive)ã€‚
- [ ] **å¤©æ°£é è­¦**: æ•´åˆ CWA API è‡ªå‹•ç™¼é€é™é›¨è­¦å ±ã€‚
- [ ] **å¤šè¡Œç¨‹ç®¡ç†**: æ”¯æ´ä½¿ç”¨è€…å»ºç«‹å¤šå€‹ä¸åŒçš„ç™»å±±è¨ˆç•«ã€‚

---

## æŠ€è¡“æ¶æ§‹æ¦‚è§€

### å°ˆæ¡ˆçµæ§‹
```
lib/
â”œâ”€â”€ core/           # å…±ç”¨å·¥å…·ã€å¸¸æ•¸ã€ä¸»é¡Œã€DIã€ç’°å¢ƒé…ç½®
â”œâ”€â”€ data/           # è³‡æ–™å±¤ (Models, Repositories)
â”œâ”€â”€ services/       # æœå‹™å±¤ (API, Sync, Log, Toast)
â”œâ”€â”€ presentation/   # UI å±¤ (Providers, Screens)
â””â”€â”€ main.dart
```

### æ¸¬è©¦ç­–ç•¥
- **Unit Tests**: ä¿æŒé«˜è¦†è“‹ç‡ (Models, Services, Providers)
- **Integration Tests**: é—œéµæµç¨‹é©—è­‰
- **Manual QA**: å¯¦åœ°ç™»å±±æ¸¬è©¦ (Field Test)

### é¢¨éšªç®¡ç†
| é¢¨éšª | ç‹€æ…‹ | ç·©è§£ç­–ç•¥ |
|------|------|----------|
| Isar ç›¸å®¹æ€§ | å·²è§£æ±º | é·ç§»è‡³ Hive |
| Google Sheets é™æµ | ç›£æ§ä¸­ | å¯¦ä½œæ‰¹æ¬¡ä¸Šå‚³èˆ‡éŒ¯èª¤é‡è©¦ |
| Web CORS å•é¡Œ | å·²è§£æ±º | èª¿æ•´ Content-Type ç‚º text/plain |
