# SummitMate é–‹ç™¼è·¯ç·šåœ– (Development Roadmap)

## é–‹ç™¼åŸå‰‡

**TDD (Test-Driven Development)** ç‚ºæ ¸å¿ƒé–‹ç™¼ç­–ç•¥ï¼š

1. **Red**: å…ˆæ’°å¯«å¤±æ•—çš„æ¸¬è©¦
2. **Green**: æ’°å¯«æœ€å°‘é‡ç¨‹å¼ç¢¼ä½¿æ¸¬è©¦é€šé
3. **Refactor**: é‡æ§‹ç¨‹å¼ç¢¼ï¼Œä¿æŒæ¸¬è©¦é€šé

---

## Phase 0-5: æ ¸å¿ƒåŠŸèƒ½èˆ‡åŸºç¤å»ºè¨­ âœ… (å·²å®Œæˆ)

åŒ…å«å°ˆæ¡ˆåˆå§‹åŒ–ã€Hive è³‡æ–™å±¤ã€MVVM æ¶æ§‹ã€UI å¯¦ä½œã€å–®å…ƒæ¸¬è©¦ (36 Tests)ã€‚

---

## Phase 6: ç™¼å¸ƒæº–å‚™ âœ…

### ç›®æ¨™

æº–å‚™ App Store / Google Play ç™¼å¸ƒè³‡æºã€‚

### ä»»å‹™

- [x] App Icon è¨­è¨ˆèˆ‡ç”Ÿæˆ
- [x] Splash Screen å“ç‰ŒåŒ– (Native Splash)
- [x] Web Favicon èˆ‡ Icons ç”Ÿæˆ

---

## Phase 8: è¡Œç¨‹ç·¨è¼¯åŠŸèƒ½ (Itinerary Editing) âœ…

### ç›®æ¨™

è®“ä½¿ç”¨è€…èƒ½åœ¨ App å…§è‡ªç”±æ–°å¢ã€ä¿®æ”¹ã€åˆªé™¤è¡Œç¨‹ç¯€é»ã€‚

### ä»»å‹™

- [x] `ItineraryEditScreen` å¯¦ä½œ
- [x] CRUD é‚è¼¯ (Repository Layer)
- [x] æ‹–æ›³æ’åº (ReorderableListView)
- [x] æ™‚é–“è‡ªå‹•è¨ˆç®— (Estimated Time Logic)

---

## Phase 11: è¡Œç¨‹é›²ç«¯åŒæ­¥ (Cloud Sync) âœ…

### ç›®æ¨™

å°‡æœ¬åœ°ä¿®æ”¹å¾Œçš„è¡Œç¨‹ä¸Šå‚³è‡³ Google Sheetsï¼Œå¯¦ç¾é›™å‘è³‡æ–™æµã€‚

### ä»»å‹™

- [x] è¡Œç¨‹ä¸Šå‚³ API (`updateItinerary`)
- [x] è¡çªæª¢æ¸¬æ©Ÿåˆ¶ (æœ¬åœ° vs é›²ç«¯)
- [x] ä¸Šå‚³ç¢ºèª UI (Alert Dialog)
- [x] é›²ç«¯å‚™ä»½è¦†å¯«é‚è¼¯

---

## Phase 12-13: è³‡æ–™æ¨™æº–åŒ–èˆ‡æ•ˆèƒ½å„ªåŒ– âœ…

### ç›®æ¨™

è§£æ±ºæ™‚å€å•é¡Œèˆ‡æå‡åŒæ­¥é€Ÿåº¦ã€‚

### ä»»å‹™

- [x] æ™‚é–“æ ¼å¼çµ±ä¸€ (String-First Strategy, UTC ISO8601)
- [x] æ‰¹æ¬¡ä¸Šå‚³ API (`batchAddMessages`) è§£æ±º N+1 å•é¡Œ
- [x] `SyncService` æ•ˆèƒ½èª¿å„ª

---

## Phase 15: Web & PWA æ”¯æ´ âœ…

### ç›®æ¨™

å•Ÿç”¨ Web ç‰ˆè¼¸å‡ºï¼Œæ”¯æ´ iOS PWA å®‰è£ï¼Œå°‡ App å»¶ä¼¸è‡³é›»è…¦ç«¯ã€‚

### ä»»å‹™

- [x] Web ç›¸å®¹æ€§ä¿®æ­£ (Hive, dart:io æ›¿ä»£æ–¹æ¡ˆ)
- [x] API CORS è§£æ±ºæ–¹æ¡ˆ (text/plain POST)
- [x] PWA Manifest é…ç½® (Standalone, Theme Color)
- [x] iOS Meta Tags å„ªåŒ– (Add to Home Screen)
- [x] éŸ¿æ‡‰å¼ UI Wrapper (Max-width 600px for Desktop)

---

## Phase 17: é›²ç«¯è£å‚™åº« (Cloud Gear Library) âœ…

### ç›®æ¨™

è®“å±±å‹èƒ½åˆ†äº«è£å‚™æ¸…å–®ï¼Œä¸¦èƒ½ä¸‹è¼‰ä»–äººçš„çµ„åˆåƒè€ƒã€‚

### ä»»å‹™

- [x] GearSets Sheet Schema è¨­è¨ˆ
- [x] ä¸‰å±¤å¯è¦‹æ€§ (Public/Protected/Private)
- [x] 4 ä½æ•¸ Key ä¿è­·æ©Ÿåˆ¶
- [x] ä¸Šå‚³è£å‚™çµ„åˆ API
- [x] é è¦½å°è©±æ¡† (åˆ†é¡ç¸®åˆé¡¯ç¤º)
- [x] æœ¬åœ° Key å„²å­˜ (SharedPreferences)
- [x] åˆªé™¤çµ„åˆåŠŸèƒ½
- [x] é˜²é€£é»æ©Ÿåˆ¶

---

## Phase 18: æŠ•ç¥¨åŠŸèƒ½ (Polls) âœ…

### ç›®æ¨™

è®“åœ˜éšŠèƒ½å¿«é€ŸæŠ•ç¥¨æ±ºå®šè¡Œç¨‹ç´°ç¯€ã€‚

### ä»»å‹™

- [x] Polls/PollOptions/PollVotes Sheet Schema
- [x] å»ºç«‹æŠ•ç¥¨ (æ¨™é¡Œã€é¸é …ã€æˆªæ­¢æ™‚é–“)
- [x] å–®é¸/å¤šé¸æ”¯æ´
- [x] å…è¨±/ç¦æ­¢æ–°å¢é¸é …
- [x] å³æ™‚/ç›²æŠ•é¡¯ç¤ºæ¨¡å¼
- [x] æŠ•ç¥¨è€…åˆ—è¡¨é¡¯ç¤º
- [x] é—œé–‰/åˆªé™¤æŠ•ç¥¨

---

## Phase 19: æ•™å­¸å°è¦½ (Tutorial Overlay) âœ…

### ç›®æ¨™

å¼•å°æ–°ç”¨æˆ¶ç†Ÿæ‚‰ App å„é …åŠŸèƒ½ã€‚

### ä»»å‹™

- [x] TutorialService æ­¥é©Ÿå®šç¾©
- [x] TutorialOverlay Widget (Spotlight æ•ˆæœ)
- [x] 9 æ­¥é©Ÿäº’å‹•å¼å¼•å°
- [x] é¦–æ¬¡ä½¿ç”¨è‡ªå‹•è§¸ç™¼

---

## Phase 21: é›¢ç·šåœ°åœ–èˆ‡å®šä½ (Offline Map & GPS) âœ…

### ç›®æ¨™

æ•´åˆ GPX è»Œè·¡é¡¯ç¤ºã€é›¢ç·šåœ–è³‡ä¸‹è¼‰èˆ‡å³æ™‚ä½¿ç”¨è€…å®šä½ï¼Œç¢ºä¿ç„¡ç¶²è·¯ç’°å¢ƒä¸‹ä»èƒ½å®‰å…¨å°èˆªã€‚

### ä»»å‹™

- [x] **OpenStreetMap æ•´åˆ**: `flutter_map` åŸºç¤å»ºè¨­
- [x] **GPX è™•ç†**: è»Œè·¡èˆ‡ Waypoint è§£æèˆ‡ç¹ªè£½
- [x] **é›¢ç·šåœ–è³‡**: `flutter_map_tile_caching` v10 æ•´åˆï¼Œæ”¯æ´è‡ªè¨‚å€åŸŸä¸‹è¼‰
- [x] **ä½¿ç”¨è€…å®šä½**: é¡¯ç¤ºç›®å‰ä½ç½® (Blue Dot) èˆ‡é›»å­ç¾…ç›¤æŒ‡å‘ (Heading)
- [x] **UX å„ªåŒ–**: å¹³æ»‘ç§»å‹•å‹•ç•« (Animated Map Move)

---

## Phase 22: æœƒå“¡ç³»çµ± (Authentication) âœ…

### ç›®æ¨™

è®“ä½¿ç”¨è€…èƒ½å¤ è¨»å†Šã€ç™»å…¥ï¼Œä¸¦å°‡å€‹äººè³‡æ–™èˆ‡è¡Œç¨‹åŒæ­¥è‡³é›²ç«¯ã€‚

### ä»»å‹™

- [x] `Users` Sheet Schema è¨­è¨ˆ
- [x] `AuthSessionRepository` (Secure Storage)
- [x] `AuthService` (Register, Login, Validate, Delete)
- [x] `AuthProvider` (å…¨åŸŸèªè­‰ç‹€æ…‹ç®¡ç†)
- [x] `LoginScreen` / `RegisterScreen` UI
- [x] `AuthInterceptor` (Token æ³¨å…¥ Request Body)
- [x] Drawer ç™»å…¥/ç™»å‡ºæ•´åˆ

---

## Phase 23: Email é©—è­‰ (Email Verification) âœ…

### ç›®æ¨™

æ–°æœƒå“¡éœ€é€é Email é©—è­‰ç¢¼ç¢ºèªèº«åˆ†ï¼Œæå‡å¸³è™Ÿå®‰å…¨æ€§ã€‚

### ä»»å‹™

- [x] GAS é©—è­‰ç¢¼ç”Ÿæˆèˆ‡ç™¼é€ (MailApp)
- [x] `authVerifyEmail` / `authResendCode` API
- [x] `VerificationScreen` UI (6 ä½æ•¸è¼¸å…¥)
- [x] `AuthProvider` é©—è­‰ç‹€æ…‹æª¢æŸ¥ (`isVerified`)
- [x] ç™»å…¥/è¨»å†Šæµç¨‹æ•´åˆ

---

## Phase 20: é€²éšåŠŸèƒ½ (Future Plans) ğŸš€

### ç›®æ¨™

å¢å¼·æˆ¶å¤–å¯¦ç”¨æ€§èˆ‡ç¤¾ç¾¤åŠŸèƒ½ã€‚

### è¦åŠƒä»»å‹™

1. **ç…§ç‰‡ä¸Šå‚³**
   - å…è¨±åœ¨ç•™è¨€æˆ–è¡Œç¨‹ä¸­é™„åŠ ç…§ç‰‡ (ä¸Šå‚³è‡³ Imgur æˆ– Google Drive)ã€‚

2. **å¤©æ°£é è­¦**
   - æ•´åˆ CWA (æ°£è±¡ç½²) API è‡ªå‹•ç™¼é€é™é›¨è­¦å ±æ¨æ’­ã€‚

3. **Web PWA æ¸¬è©¦**
   - ç¢ºä¿ iOS Safari çš„ Add to Home Screen åŠŸèƒ½æ­£å¸¸é‹ä½œã€‚

4. **å¤šè¡Œç¨‹ç®¡ç†** (â­ é‡è¦ / å¤§å·¥ç¨‹)
   - æ”¯æ´ä½¿ç”¨è€…å»ºç«‹èˆ‡ç®¡ç†å¤šå€‹ä¸åŒçš„ç™»å±±è¨ˆç•«ã€‚
   - **æ ¸å¿ƒåŸå‰‡**ï¼šä¿ç•™æ¶æ§‹å½ˆæ€§ï¼Œé¿å…æœªä¾†é›£ä»¥æ“´å……æ­¤åŠŸèƒ½ã€‚

---

## æŠ€è¡“æ¶æ§‹æ¦‚è§€

### å°ˆæ¡ˆçµæ§‹

```
lib/
â”œâ”€â”€ core/           # å…±ç”¨å·¥å…·ã€å¸¸æ•¸ã€ä¸»é¡Œã€DIã€ç’°å¢ƒé…ç½®
â”œâ”€â”€ data/           # è³‡æ–™å±¤ (Models, Repositories)
â”œâ”€â”€ services/       # æœå‹™å±¤ (API, Sync, Log, Toast, Weather, Poll, Gear)
â”œâ”€â”€ presentation/   # UI å±¤ (Providers, Screens, Widgets)
â””â”€â”€ main.dart
```

### æ¸¬è©¦ç­–ç•¥

- **Unit Tests**: ä¿æŒé«˜è¦†è“‹ç‡ (Models, Services, Providers) - 76 Tests
- **Integration Tests**: é—œéµæµç¨‹é©—è­‰
- **Manual QA**: å¯¦åœ°ç™»å±±æ¸¬è©¦ (Field Test)

### é¢¨éšªç®¡ç†

| é¢¨éšª               | ç‹€æ…‹   | ç·©è§£ç­–ç•¥                        |
| ------------------ | ------ | ------------------------------- |
| Isar ç›¸å®¹æ€§        | å·²è§£æ±º | é·ç§»è‡³ Hive                     |
| Google Sheets é™æµ | ç›£æ§ä¸­ | å¯¦ä½œæ‰¹æ¬¡ä¸Šå‚³èˆ‡éŒ¯èª¤é‡è©¦          |
| Web CORS å•é¡Œ      | å·²è§£æ±º | èª¿æ•´ Content-Type ç‚º text/plain |
| GAS éŸ¿æ‡‰æ…¢         | å·²è§£æ±º | é˜²é€£é»æ©Ÿåˆ¶ã€Loading ç‹€æ…‹ç®¡ç†    |
